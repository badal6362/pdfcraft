<!DOCTYPE html>
<html lang="en">
<head>
  <title>Compress PDF Online ‚Äì Reduce PDF Size | PDFCraft</title>

  <!-- SEO -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Compress PDF files online for free. Reduce PDF size without losing quality using PDFCraft. Secure and fast.">
  <meta name="keywords" content="compress pdf, reduce pdf size, pdf compressor free">

  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="site-header">
  <div class="nav-container">
    <div class="logo">PDFCraft</div>
    <nav class="nav-links">
      <a href="index.html">Home</a>
      <a href="merge.html">Merge</a>
      <a href="split.html">Split</a>
      <a href="doc-to-pdf.html">Convert</a>
    </nav>
  </div>
</header>

<section class="tool-page">
  <div class="tool-card-advanced">

    <div class="tool-icon">üóú</div>

    <h1>Compress PDF</h1>
    <p>Reduce PDF file size without losing quality</p>

    <input type="file" id="pdf" accept="application/pdf">

    <select id="level">
      <option value="low">Low (Best quality)</option>
      <option value="medium" selected>Medium (Recommended)</option>
      <option value="high">High (Smallest size)</option>
    </select>

    <button id="btn" onclick="compressPdf()">Compress PDF</button>

    <div id="status" class="processing-text" style="display:none;">
      Compressing your PDF‚Ä¶
    </div>

    <div class="security-note">
      <span>üîí Secure</span>
      <span>‚ö° Fast</span>
      <span>üóë Files auto-deleted</span>
    </div>

    <a href="index.html" class="back-link">‚Üê Back to Home</a>
  </div>
</section>

<footer class="site-footer">
  <div class="footer-bottom">
    ¬© 2026 PDFCraft ‚Ä¢ Free Online PDF Tools
  </div>
</footer>

<script>
const API_BASE = "https://pdfcraft-backend-production.up.railway.app";

async function compressPdf() {
  const pdf = document.getElementById("pdf").files[0];
  const level = document.getElementById("level").value;
  const status = document.getElementById("status");
  const btn = document.getElementById("btn");

  if (!pdf) {
    alert("Please select a PDF file");
    return;
  }

  const fd = new FormData();
  fd.append("pdf", pdf);
  fd.append("level", level);

  btn.disabled = true;
  status.style.display = "block";

  try {
    const res = await fetch(`${API_BASE}/compress`, {
      method: "POST",
      body: fd
    });

    if (!res.ok) throw new Error("Compression failed");

    const blob = await res.blob();
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "compressed.pdf";
    a.click();
  } catch (e) {
    alert(e.message);
  }

  btn.disabled = false;
  status.style.display = "none";
}
</script>

</body>
</html>
